# QuizD Project Rules

## MANDATORY: Test-Driven Development

**NEVER write production code without a test first.**

### TDD Workflow
1. Write failing test (RED)
2. Write minimal code to pass (GREEN)
3. Refactor while keeping tests green (BLUE)

### Requirements

**Before ANY code change:**
- Features: Write test → verify failure → implement → verify pass
- Bugs: Write test reproducing bug → fix → verify pass
- Refactoring: Ensure tests pass before and after

**Testing:**
- Mock all Supabase/database calls (use sinon)
- Tests in `test/**/*.test.ts(x)`
- Run `npm test` before committing
- Use `npm run test:watch` during development

**Test structure:**
```typescript
describe('Component', () => {
  beforeEach(() => { /* setup mocks */ });
  afterEach(() => { sinon.restore(); });
  it('should behavior', () => { /* Arrange, Act, Assert */ });
});
```

### Enforcement

Claude will **refuse** to write production code without tests first. No exceptions.

See [.claude/TDD_GUIDELINES.md](.claude/TDD_GUIDELINES.md) for details.
